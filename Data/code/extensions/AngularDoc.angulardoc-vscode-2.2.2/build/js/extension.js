/*! require("source-map-support").install(); */
module.exports=function(e){function n(r){if(t[r])return t[r].exports;var a=t[r]={i:r,l:!1,exports:{}};return e[r].call(a.exports,a,a.exports,n),a.l=!0,a.exports}var t={};return n.m=e,n.c=t,n.i=function(e){return e},n.d=function(e,n,t){Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:t})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},n.p="",n(n.s=29)}([function(e,n){e.exports=require("vscode")},function(e,n){e.exports=require("fs")},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r,a=t(0),i=t(3),o=t(1),s=t(7),c=t(21),l=t(26),d=t(23),u=t(6);!function(e){function n(e){var n=process.env.APPDATA;if(!n)if("darwin"==process.platform)n=process.env.HOME+"/Library/Application Support";else if("linux"==process.platform){var a=t(24);n=a.homedir()+"/.config"}else n="/var/local";n+="/Code",O=n.concat("/User/",N),o.existsSync(R)?v():g(),m(),r()}function r(){B=p(a.workspace.rootPath)}function f(){return B}function p(e){var n=[],t=function(e){o.readdirSync(e).forEach(function(r){o.statSync(i.join(e,r)).isDirectory()&&"node_modules"!=r&&"typeings"!=r&&".github"!=r&&(n.push(i.join(e,r)),t(i.join(e,r)))})};return t(e),n}function m(){F().then(function(e){var n=t(28).Server,r=new n({port:e,path:"/websocket"});r.on("connection",function(e){V.push(e),e.on("close",function(){V=V.filter(function(n,t){return n!==e})})})})}function g(){M(R).then(function(e){var n=h();e.repoId||(e.repoId=n.get("repoId")?n.get("repoId"):D(),n.update("repoId",void 0,!1)),e.lastSync||(e.lastSync=n.get("lastSync")?n.get("lastSync"):0,n.update("lastSync",void 0,!1)),n.get("directoryFilter")||n.update("directoryFilter",q,!1).then(function(){console.log("directoryFilter is auto-generated")},function(e){console.log("directoryFilter is NOT set"),console.log(e)}),n.get("fileFilter")||n.update("fileFilter",K,!1).then(function(){console.log("fileFilter is auto-generated")},function(e){console.log("fileFilter is NOT set"),console.log(e)}),T={directoryFilter:n.get("directoryFilter"),fileFilter:n.get("fileFilter"),repoId:e.repoId,lastSync:e.lastSync},o.writeFileSync(R,c.stringify(e,null,2))})}function h(){return a.workspace.getConfiguration("angulardoc")}function v(){T=x(),T.access_token&&""!=T.access_token&&P(T.access_token).then(function(e){e||w()}),y().then(function(e){for(var n in e)T[n]=e[n]})}function y(){return new Promise(function(e,n){M(R).then(function(n){var t=h();n.repoId||(n.repoId=D()),n.lastSync=0,t.get("directoryFilter")||t.update("directoryFilter",q,!1).then(function(){console.log("directoryFilter is auto-generated")},function(e){console.log("directoryFilter is NOT set"),console.log(e)}),t.get("fileFilter")||t.update("fileFilter",K,!1).then(function(){console.log("fileFilter is auto-generated")},function(e){console.log("fileFilter is NOT set"),console.log(e)}),o.writeFileSync(R,c.stringify(n,null,2)),e({repoId:n.repoId,lastSync:0,directoryFilter:t.get("directoryFilter"),fileFilter:t.get("fileFilter")})})})}function w(){var e=h();return e.update("access_token",void 0,!0)}function x(){var e=a.workspace.getConfiguration("angulardoc");return{email:e.get("email"),access_token:e.get("access_token"),username:e.get("username"),baseUrl:e.get("baseUrl")||"http://angulardoc.io"}}function S(){return T}function b(){var e=D();return T.repoId=e,V.forEach(function(n){var t={repoId:e};n.send(JSON.stringify(t))}),new Promise(function(n){M(R).then(function(t){t.repoId=e,o.writeFileSync(R,c.stringify(t,null,2)),n(e)})})}function C(){V.forEach(function(e){var n={refresh:!0};e.send(JSON.stringify(n))})}function D(){return l.v4()}function _(e){try{o.statSync(e)}catch(n){I(e),o.writeFileSync(e,c.stringify(Object.create(null)))}}function A(e,n,t){var r=h();return r.update("username",t,!0).then(function(){return r.update("email",e,!0).then(function(){return r.update("access_token",n,!0)})})}function j(e,n){var t=M(R);return t.then(function(t){t?(t.lastSync=e,k(t)):(t={lastSync:0},k(t)),n||(T.lastSync=t.lastSync),o.writeFileSync(R,c.stringify(t,null,2))})}function k(e){e.repoId||(e.repoId=D())}function E(){return new Promise(function(e,n){M(R).then(function(n){e({repoId:n.repoId,lastSync:n.lastSync})}).catch(function(e){return n(e)})})}function M(e){return new Promise(function(n,t){o.readFile(e,{encoding:"utf8"},function(r,a){if(r)_(e);else{var i=a.toString();if(i){try{var o=c.parse(i);n(o?o:Object.create(null))}catch(e){t(e)}return}}n(Object.create(null))})})}function I(e){var n=i.dirname(e);return!!s.WorkspaceUtils.directoryExists(n)||(I(n),void o.mkdirSync(n))}function P(e){var n=x().baseUrl;if(n){var t=n+"/api/users/me",r=new u.HttpRequest(u.HttpClient.GET,t,{Authorization:"Bearer "+e},{});return new Promise(function(e,n){(new u.HttpClient).send(r).then(function(n){e(n.statusCode<400)})})}return new Promise(function(e){return e(!1)})}function F(){return new Promise(function(e,n){var t=d.createServer().listen(0,function(){H=t.address().port,t.close(function(){e(H)})}).on("error",n)})}function U(){return H}var O,T,N="settings.json",R=a.workspace.rootPath+"/.vscode/angulardoc.json",q=["!typings","!node_modules","!.vscode"],K=["**/!(*.*spec).ts"],H=0,V=[],B=Object.create(null);e.activate=n,e.getFolderCache=f,e.initializeSettings=v,e.removeExpiredToken=w,e.getUserSettings=x,e.getAngularDocConfiguration=S,e.updateRepoId=b,e.refreshDiagram=C,e.saveUserSettings=A,e.saveLastSync=j,e.getWorkspaceSettings=E,e.getRandomPort=U}(r=n.AngularDocSetting||(n.AngularDocSetting={}))},function(e,n){e.exports=require("path")},function(e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.ngdocScheme="ngdoc",n.TS_MODE={language:"typescript",scheme:"file"};var t;!function(e){e.authentication={get method(){return"angulardoc/authentication"}}}(t=n.ServerRequest||(n.ServerRequest={}));var r;!function(e){e.metadata={get method(){return"angulardoc/server"}}}(r=n.ServerNotification||(n.ServerNotification={}));var a;!function(e){e.metadata={get method(){return"angulardoc/metadata"}}}(a=n.ServerMetadata||(n.ServerMetadata={}));var i;!function(e){e.params={get method(){return"angulardoc/configurationChanged"}}}(i=n.ConfigurationChanged||(n.ConfigurationChanged={}))},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r,a=t(6),i=t(2);!function(e){function n(n,t){var r=e.baseUrl+"/api/users",o={loginName:n,email:n,password:t,provider:"vscode"},s=new a.HttpRequest(a.HttpClient.POST,r,null,o);return new Promise(function(t,r){(new a.HttpClient).send(s).then(function(s){if(s.statusCode>=400)return r(s.statusCode+": "+(s.body||s.statusMessage));var c=s.body.token;return i.AngularDocSetting.saveUserSettings(o.email,c,o.loginName).then(function(){var s=e.baseUrl+"/api/users/me/repos",l=i.AngularDocSetting.getAngularDocConfiguration(),d={repoType:"vscode",repoId:l.repoId,owner:o.loginName,projectPath:encodeURIComponent("/")},u=new a.HttpRequest(a.HttpClient.POST,s,{Authorization:"Bearer "+c},d);return(new a.HttpClient).send(u).then(function(e){if(200==e.statusCode){var a={email:n,access_token:c,repoId:l.repoId};t(a)}else 201==e.statusCode?i.AngularDocSetting.updateRepoId().then(function(e){var t={email:n,access_token:c,repoId:e};r(t)}):r(e.statusCode+": "+(e.body||e.statusMessage))}).catch(function(e){r(e)})})}).catch(function(e){r(e)})})}function t(e,n,t,r){return new Promise(function(n,a){return i.AngularDocSetting.saveUserSettings(e,r,t).then(function(){})})}function r(n,t){var r=i.AngularDocSetting.getAngularDocConfiguration(),o=e.baseUrl+"/auth/local",s={email:n,password:t},c=new a.HttpRequest(a.HttpClient.POST,o,{},s);return new Promise(function(e,t){(new a.HttpClient).send(c).then(function(a){if(a.statusCode>=400)return t(a.statusCode+": "+(a.body||a.statusMessage));var o=a.body.token;i.AngularDocSetting.saveUserSettings(n,o,n).then(function(){var t={email:n,access_token:o,repoId:r.repoId};e(t)})}).catch(function(e){t(e)})})}function o(){var n=i.AngularDocSetting.getAngularDocConfiguration(),t=n.repoId,r=n.access_token,o=encodeURIComponent("/"),s=e.baseUrl+"/api/metadata/vscode/"+t+"/"+o;return new Promise(function(e,n){var t=new a.HttpRequest(a.HttpClient.DELETE,s,{Authorization:"Bearer "+r},{});(new a.HttpClient).send(t).then(function(n){e(n?n.statusCode>400?null:null:null)}).catch(function(n){console.log(JSON.stringify(n)),e(n)})})}e.baseUrl=i.AngularDocSetting.getUserSettings().baseUrl||"http://angulardoc.io",e.signUp=n,e.getUserRepo=t,e.signIn=r,e.clearTsMetadatas=o}(r=n.AngularDocAPI||(n.AngularDocAPI={}))},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=t(8),a=function(){function e(e,n,t,r){for(var a=[],i=4;i<arguments.length;i++)a[i-4]=arguments[i];this.method=e,this.url=n,this.headers=t,this.json=r,this.token=a[0]}return e}();n.HttpRequest=a;var i=function(){function e(e,n,t,r){this.statusCode=e,this.statusMessage=n,this.headers=t,this.body=r}return e}();n.HttpResponse=i;var o=function(){function e(){}return e.prototype.send=function(e){var n=e.url;e.token&&(n=n+"?access_token="+e.token);var t={url:encodeURI(decodeURI(n)),method:e.method,headers:e.headers,json:e.json,timeout:3e4};return new Promise(function(e,n){r(t,function(t,r,a){return t?void n(t):void e(new i(r.statusCode,r.statusMessage,r.headers,a))})})},e.getHeaderValue=function(e,n){if(e)for(var t in e)if(t.toLowerCase()===n.toLowerCase())return e[t];return null},e}();o.GET="GET",o.POST="POST",o.DELETE="DELETE",o.PUT="PUT",n.HttpClient=o},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=t(0),a=t(1),i=function(){function e(){}return e.openFileInEditor=function(e){r.workspace.openTextDocument(e).then(function(e){e&&r.window.showTextDocument(e).then(function(e){})})},e.directoryExists=function(e){try{return a.statSync(e).isDirectory()}catch(e){return!1}},e}();n.WorkspaceUtils=i},function(e,n){e.exports=require("request")},function(e,n){e.exports=require("typescript")},function(e,n,t){"use strict";function r(e){a.workspace.findFiles("**/package.json","node_modules",10).then(function(n){for(var t=0,r=n.length;t<r;t++){var a=n[t],u=JSON.parse(d.readFileSync(a.path,"utf-8"));if(u.dependencies&&u.dependencies["@angular/core"]){i.AngularDocSetting.activate(e),o.activate(e),c.activate(e),s.activate(e);var f=new l.NgdocStatusBar;e.subscriptions.push(f);break}}})}Object.defineProperty(n,"__esModule",{value:!0});var a=t(0),i=t(2),o=t(12),s=t(15),c=t(14),l=t(18),d=t(1);n.activate=r},function(e,n,t){"use strict";function r(e,n,t,r){var a="",i="",o=r;process.env.PWD=o,t=t.filter(function(e){return void 0!==e});var s=([e.silent&&"silent",e.waitForMatch&&"matching("+e.waitForMatch+")"].filter(function(e){return!!e}).join(", ").replace(/^(.+)$/," [$1]"),{cwd:o});process.platform.startsWith("win")&&(t.unshift("/c",n),n="cmd.exe",s.stdio="pipe");var c=m.spawn(n,t,s);c.stdout.on("data",function(n){a+=n.toString("utf-8"),e.silent||n.toString("utf-8").split(/[\n\r]+/).filter(function(e){return""!==e}).forEach(function(e){return console.log("  "+e)})}),c.stderr.on("data",function(e){i+=e.toString("utf-8"),e.toString("utf-8").split(/[\n\r]+/).filter(function(e){return""!==e}).forEach(function(e){return console.error("  "+e)})}),g.push(c);var l=new Error('Running "'+n+" "+t.join(" ")+'" returned error code ');return new Promise(function(n,t){c.on("exit",function(e){g=g.filter(function(e){return e!==c}),e?(l.message+=e+"...\n\nSTDOUT:\n"+a+"\n",t(l)):n(a)}),e.waitForMatch&&c.stdout.on("data",function(t){t.toString().match(e.waitForMatch)&&n(a)})})}function a(e){for(var n=[],t=1;t<arguments.length;t++)n[t-1]=arguments[t];return r({},e,n,"")}function i(e,n,t){return r({waitForMatch:t},e,n,"")}function o(e,n,t){return r({silent:!0,waitForMatch:t},e,n,"")}function s(e,n){return"build"==e[0]?c(e,n):r({},"ng",e,n)}function c(e,n){return r({silent:!0},"ng",e,n)}function l(e,n){return r({silent:!0},"npm",e,n)}function d(e){return r({},"npm",e,"")}function u(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return r({},"node",e,"")}function f(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return r({},"git",e,"")}function p(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return r({silent:!0},"git",e,"")}Object.defineProperty(n,"__esModule",{value:!0});var m=t(20),g=[];n.exec=a,n.execAndWaitForOutputToMatch=i,n.silentExecAndWaitForOutputToMatch=o,n.ng=s,n.silentNg=c,n.silentNpm=l,n.npm=d,n.node=u,n.git=f,n.silentGit=p},function(e,n,t){"use strict";function r(e){var n=v.commands.registerCommand("ng.component",function(e){a("component",h(e))}),t=v.commands.registerCommand("ng.module",function(e){a("module",h(e))}),r=v.commands.registerCommand("ng.service",function(e){a("service",h(e))}),i=v.commands.registerCommand("ng.class",function(e){a("class",h(e))}),o=v.commands.registerCommand("ng.directive",function(e){a("directive",h(e))}),s=v.commands.registerCommand("ng.interface",function(e){a("interface",h(e))}),c=v.commands.registerCommand("ng.enum",function(e){a("enum",h(e))}),l=v.commands.registerCommand("ng.pipe",function(e){a("pipe",h(e))});e.subscriptions.push(n,t,r,i,o,s,c,l)}function a(e,n){v.window.showInputBox({placeHolder:"Please enter the name in the workspace folder",value:e}).then(function(t){if("route"==e){if(t&&!/[~`!#$%\^&*+=\[\]\\';,\/{}|\\":<>\?\s]/g.test(t))return g(n,t).catch(function(e){v.window.showErrorMessage(e)});v.window.showErrorMessage("Not a valid name (no whitespaces or special characters)")}if(w.statSync(n).isFile()&&(n=x.resolve(n,"..")),t){if("component"==e)return i(n,t).catch(function(e){v.window.showErrorMessage(e)});if("module"==e)return c(n,t).catch(function(e){v.window.showErrorMessage(e)});if("service"==e)return l(n,t).catch(function(e){v.window.showErrorMessage(e)});if("class"==e)return u(n,t).catch(function(e){v.window.showErrorMessage(e)});if("directive"==e)return d(n,t).catch(function(e){v.window.showErrorMessage(e)});if("interface"==e)return m(n,t).catch(function(e){v.window.showErrorMessage(e)});if("enum"==e)return f(n,t).catch(function(e){v.window.showErrorMessage(e)});if("pipe"==e)return p(n,t).catch(function(e){v.window.showErrorMessage(e)})}})}function i(e,n){return y.ng(["generate","component",n],e).catch(function(e){v.window.showErrorMessage(e.message)})}function o(e){return e.charAt(0).toUpperCase()+e.slice(1)}function s(e,n){return y.ng(["generate","module",n,"--routing"],e).catch(function(e){v.window.showErrorMessage(e.message)})}function c(e,n){return y.ng(["generate","module",n],e).catch(function(e){v.window.showErrorMessage(e.message)})}function l(e,n){return y.ng(["generate","service",n],e).catch(function(e){v.window.showErrorMessage(e.message)})}function d(e,n){return y.ng(["generate","directive",n],e).catch(function(e){v.window.showErrorMessage(e.message)})}function u(e,n){return y.ng(["generate","class",n],e).catch(function(e){v.window.showErrorMessage(e.message)})}function f(e,n){return y.ng(["generate","enum",n],e).catch(function(e){v.window.showErrorMessage(e.message)})}function p(e,n){return y.ng(["generate","pipe",n],e).catch(function(e){v.window.showErrorMessage(e.message)})}function m(e,n){return y.ng(["generate","interface",n,"model"],e).catch(function(e){v.window.showErrorMessage(e.message)})}function g(e,n){var t="";return w.statSync(e).isFile()&&(t=x.resolve(e,"..")),i(t,n).then(function(){({dir:t,appRoot:v.workspace.rootPath,routesFile:e,route:n+"/:id",component:o(n+"Component"),dasherizedName:n})}).catch(function(e){v.window.showErrorMessage(e.message)})}function h(e){if(void 0==e){if(v.window.activeTextEditor){var n=v.window.activeTextEditor?v.window.activeTextEditor.document.fileName:"",t=x.dirname(n);return t}return v.workspace.rootPath}return e.fsPath}Object.defineProperty(n,"__esModule",{value:!0});var v=t(0),y=t(11),w=t(1),x=t(3);n.activate=r,n.execCommand=a,n.newComponent=i,n.newRouting=s,n.newModule=c,n.newService=l,n.newDirective=d,n.newClass=u,n.newEnum=f,n.newPipe=p,n.newInterface=m,n.newRoute=g},function(e,n,t){"use strict";function r(e){return x.Uri.file(S.join(__dirname,"..","browser",e)).toString()}function a(e){return x.Uri.file(S.join(__dirname,"..","browser",e)).toString()}function i(e){return x.Uri.file(S.join(__dirname,"..","browser",e)).toString()}function o(e){return x.Uri.file(S.join(__dirname,"..","..","bower_components",e)).toString()}function s(e,n,t){var i=!1;e&&n&&(i=!0);var s=c(n),u=d(t),f=_.AngularDocSetting.getAngularDocConfiguration(),p=D.AngularDocAPI.baseUrl+"/api/users",m=D.AngularDocAPI.baseUrl+"/auth/local",g=(D.AngularDocAPI.baseUrl+"/api/users/me",f.access_token),h=l(f,"summary"),v=l(f,"classes"),y=l(f,"imports"),w=l(f,"ngmodules"),x=l(f,"routes"),b="ws://localhost:"+_.AngularDocSetting.getRandomPort()+"/websocket";return'\n        <head>\n            <link rel="stylesheet" href="'+o(S.join("fontawesome","css","font-awesome.min.css"))+'" >\n            <link rel="stylesheet" href="'+o(S.join("angular-material","angular-material.min.css"))+'" >\n            <link rel="stylesheet" href="'+r("app.css")+'" >\n            <link rel="stylesheet" href="'+r("login.css")+'" >\n        </head>\n        <body style="width:100%;height:100%;margin:0;padding:0;overflow:hidden">\n            <div flex layout-fill ng-app="AngularDoc-VsCode">\n                <a style="display:none;" id="signout"></a>\n                <input class="wsUrl" id="wsUrl" type="hidden" value="'+b+'" />\n                <input class="selected" id="selected" type="hidden" value="'+t+'" />\n                <input class="swithToDashBoardView" id="swithToDashBoardView" type="hidden" value="'+i+'" />\n                <input class="token" id="token" type="hidden" value="'+g+'" />\n                <input class="valiTokenUrl" id="valiTokenUrl" type="hidden" value="'+m+'" />\n                <input class="repoSettingsPath" id="repoSettingsPath" type="hidden" value="'+A+'" />\n                <input class="signInUrl" id="signInUrl" type="hidden" value="'+m+'" />\n                <input class="signUpUrl" id="signUpUrl" type="hidden" value="'+p+'" />\n                <input class="diagramUrl" id="architectureUrl" type="hidden" value="'+h+'" />\n                <input class="diagramUrl" id="classesDataUrl" type="hidden" value="'+v+'" />\n                <input class="diagramUrl" id="importsDataUrl" type="hidden" value="'+y+'" />\n                <input class="diagramUrl" id="modulesDataUrl" type="hidden" value="'+w+'" />\n                <input class="diagramUrl" id="routersDataUrl" type="hidden" value="'+x+'" />\n                <div flex layout-fill style="height:100%;" ng-controller="MainCtrl">\n                    <div flex layout-fill style="height:100%;" ng-if="swithToDashBoardView == \'true\' ">\n                        '+u+'\n                    </div>\n                    <div flex layout-fill style="height:100%;overflow:auto;" ng-if="swithToDashBoardView == \'false\' ">\n                        '+s+'\n                    </div>\n                    <div style="visibility: hidden">\n                        <div class="md-dialog-container" id="signoutDialog">\n                            <md-dialog layout="column" layout-margin style="height:180px;width:360px;">\n                                <div flex layout="row">\n                                    <h2>Sign out of AngularDoc ?</h2>\n                                    <span flex></span>\n                                    <i class="fa fa-times" ng-click="closeSignOutDialog()" aria-hidden="true"></i>\n                                </div>\n                                <div flex style="text-align:center;">\n                                    <md-button ng-click="signout()" class="md-raised md-primary">Sign out</md-button>\n                                </div>\n                            </md-dialog>\n                        </div>\n                        <div class="md-dialog-container" id="loadingPageContent">\n                            <md-dialog layout-margin style="height:180px;width:360px;">\n                                <h2>Analyzing project ...</h2>\n                                <div class="progress-circular">\n                                    <md-progress-circular md-diameter="40"></md-progress-circular>\n                                </div>\n                            </md-dialog>\n                        </div>\n                        <div class="md-dialog-container" id="errorMsgDialog">\n                            <md-dialog id="errorMsgDialogContent" layout-margin style="height:180px;width:360px;">\n                            </md-dialog>\n                        </div>\n                    </div>\n                </div>\n            </div>\n            <script src="'+o(S.join("jquery","dist","jquery.min.js"))+'"></script>\n            <script src="'+o(S.join("moment","min","moment.min.js"))+'"></script>\n            <script src="'+o(S.join("angular","angular.js"))+'"></script>\n            <script src="'+o(S.join("angular-jwt","dist","angular-jwt.js"))+'"></script>\n            <script src="'+o(S.join("angular-material","angular-material.js"))+'"></script>\n            <script src="'+o(S.join("angular-messages","angular-messages.js"))+'"></script>\n            <script src="'+o(S.join("angular-aria","angular-aria.js"))+'"></script>\n            <script src="'+o(S.join("angular-animate","angular-animate.js"))+'"></script>\n            <script src="'+o(S.join("angular-cookies","angular-cookies.js"))+'"></script>\n            <script src="'+o(S.join("angular-resource","angular-resource.js"))+'"></script>\n            <script src="'+o(S.join("angular-route","angular-route.js"))+'"></script>\n            <script src="'+o(S.join("angular-sanitize","angular-sanitize.js"))+'"></script>\n            <script src="'+o(S.join("angular-touch","angular-touch.js"))+'"></script>\n            <script src="'+o(S.join("angular-ui-router","release","angular-ui-router.js"))+'"></script>\n            <script src="'+o(S.join("angular-websocket","dist","angular-websocket.js"))+'"></script>\n            <script src="'+o(S.join("d3","d3.min.js"))+'"></script>\n            <script src="'+o(S.join("lodash","lodash.js"))+'"></script>\n            \n            <script src="'+a("app.js")+'"></script>\n            <script src="'+a(S.join("app","d3.tip.js"))+'"></script>\n            <script src="'+a(S.join("app","diagram.js"))+'"></script>\n        </body>\n    '}function c(e){var n=i("images/logo128.png");return'\n        <input class="userFlag" id="userFlag" type="hidden" value="'+e+'" />\n        <div ng-controller="loginCtrl" layout="column" flex id="content" role="main" style="min-height:600px;">\n<md-content layout="vertical" flex id="content">\n<div layout="row" layout-align="center center" layout-fill>\n                    <div ng-if="signInContent" flex="40" layout="column" style="min-width:353px;">\n                        <div layout-fill flex style="text-align:center;padding: 10px 20px 0px 20px;" >\n                            <img width=\'80\' src="'+n+'">\n                        </div>\n                        <div layout-fill flex style="text-align:center;padding: 0px 20px; 0px 20px" >\n                            <h3>Sign in to <a style="color: #4078c0; cursor: pointer;text-decoration: none;" href="http://www.angulardoc.io">AngularDoc</a></h3>\n                        </div>\n                        <form name="singinForm" ng-submit="singin(singinForm.$valid,$event)" novalidate flex>\n                        <md-card flex layout="column" layout-fill >\n                                <md-input-container style="margin:10px" flex>\n                                    <label>Email address</label>\n                                    <input required id="username" ng-model="username" name="username">\n                                    <div ng-messages="singinForm.username.$error" multiple md-auto-hide="false">\n                                        <div ng-message="required">\n                                            Please enter a valid email address\n                                        </div>\n                                    </div>\n                                </md-input-container>\n                                <md-input-container style="margin:10px;margin-bottom:0px;" flex>\n                                    <label>Password</label>\n                                    <input required id="password" name="password" ng-model="password" type="password">\n                                    <div ng-messages="singinForm.password.$error" multiple md-auto-hide="false">\n                                        <div ng-message="required">\n                                            Please enter a password\n                                        </div>\n                                    </div>\n                                </md-input-container>\n                                <md-input-container style="margin-bottom:10px;padding:0;" layout="row" flex >\n                                    <a style="display:none;" id="signin"></a>\n                                    <div flex="40" class="signInButton"><md-button type="submit" class="md-raised md-primary">Sign in</md-button></div>\n                                    <div flex style="margin-top:5px;">New to AngularDoc? <br/><a style="color: #4078c0; cursor: pointer;text-decoration: none;" ng-click="switchToSignUp()">Create an account.</a></div>\n                                </md-input-container>\n                                \n                        </md-card>  \n                        </form>\n                        <!--<div flex style="padding: 10px 20px;margin:8px;text-align: center;border: 1px solid #d8dee2;border-radius: 5px;">\n                            \n                        </div>-->\n                    </div>\n                    <div ng-if="signUpContent" flex="45" layout="column" style="min-width:353px;">\n                        <div layout-fill flex style="text-align:center;padding: 10px 20px; 0px 20px" >\n                            <img width=\'80\' src="'+n+'">\n                        </div>\n                        <div layout-fill flex style="text-align:center;padding: 0px 20px;" >\n                            <h3>Create an account on <a style="color: #4078c0; cursor: pointer;text-decoration: none;" href="http://www.angulardoc.io">AngularDoc</a></h3>\n                        </div>\n                        <form name="singupForm" novalidate ng-submit="singup(singupForm.$valid,$event)"  flex>\n                        <md-card flex layout="column" layout-fill>\n                                <md-input-container style="margin:10px" flex>\n                                    <label>Email address</label>\n                                    <input class="md-input" required id="c_username" name="c_username" ng-pattern="/^.+@.+..+$/" id="username" ng-model="c_email" required>\n                                    <div ng-messages="singupForm.c_username.$error" multiple md-auto-hide="false">\n                                        <div ng-message="required">\n                                            Please enter a valid email address\n                                        </div>\n                                        <div ng-message="pattern">\n                                            Please enter a valid email address\n                                        </div>\n                                    </div>\n                                </md-input-container>\n                                <md-input-container style="margin:10px" flex>\n                                    <label class="testLabel">Password</label>\n                                    <input required id="c_password" name="c_password" ng-model="c_password" type="password" required>\n                                    <div ng-messages="singupForm.c_password.$error" multiple md-auto-hide="false">\n                                        <div ng-message="required">\n                                            Please enter a password\n                                        </div>\n                                    </div>\n                                </md-input-container>\n                                <md-input-container style="margin:10px" flex>\n                                    <label>Confirm Password</label>\n                                    <input required id="password_confirmation" compare-to="c_password" ng-model="password_confirmation" name="password_confirmation" type="password">\n                                    <div ng-messages="singupForm.password_confirmation.$error" multiple md-auto-hide="false">\n                                        <div ng-message="compareTo">\n                                            Passwords don\'t match.\n                                        </div>\n                                        <div ng-message="required">\n                                            Please confirm the password\n                                        </div>\n                                    </div>\n                                </md-input-container>\n                                <md-input-container style="margin-bottom:10px;padding:0;" layout="row" flex>\n                                    <a style="display:none;" id="signup"></a>\n                                    <div flex=\'33\' class="signInButton"><md-button type="submit" class="md-raised md-primary" >Create</md-button></div>\n                                    <div flex style="margin-top:10px;">Already have an AngularDoc account? <a style="color: #4078c0; cursor: pointer;text-decoration: none;" ng-click="switchToSignIn()">Sign in.</a></p></div>\n                                </md-input-container>\n                        </md-card>\n                        </form>\n                        <!--<div flex style="padding: 10px 20px;margin:8px;text-align: center;border: 1px solid #d8dee2;border-radius: 5px;">\n                            \n                        </div>-->\n                    </div>\n</div>\n</md-content>\n</div>    \n        '}function l(e,n){var t=D.AngularDocAPI.baseUrl,r=(e.access_token,e.repoId),a=encodeURIComponent("/");return t+"/api/metadata/vscode/"+r+"/"+a+"/"+n}function d(e){var n=_.AngularDocSetting.getAngularDocConfiguration(),t=(l(n,"summary"),l(n,"classes"),l(n,"imports"),l(n,"ngmodules"),l(n,"routes"),encodeURI("command:ngdoc.refresh"));return'\n        <a class="openFile" id="openFile" style="display:none;" href=""></a>\n        <a class="selectView" id="selectView" style="display:none;" href=""></a>\n        <md-card flex layout-fill style="height:100%;">\n            <div ng-controller="DashboardCtrl" layout="column" style="height:100%;" ng-cloak>\n                <section layout="row" flex>\n                    <md-sidenav class="md-sidenav-left" md-component-id="left" md-is-locked-open="true" md-whiteframe="4">\n                        <md-list flex>\n                            <md-list-item style="width:50px;" class="md-list-item" ng-repeat="view in views" ng-click="selectView(view.type)">\n                                <i class="fa fa-{{view.icon}}" aria-hidden="true"></i>\n                            </md-list-item>\n                        </md-list>\n                    </md-sidenav>\n                    <md-content flex layout="column">\n                        <md-card ng-if="selectedView == \'overview\' " flex>\n                            <md-card-header style="border-bottom:1px solid #f1f1f1;">\n                                <md-card-header-text layout="row" flex>\n                                    <span class="md-title">Overview</span>\n                                    <span flex></span>\n                                    <div class="refresh">\n                                        <a href="'+t+'"><i class="fa fa-refresh" aria-hidden="true"></i></a>\n                                    </div>\n                                    <div class="signout" ng-click="showSignOut($event)">\n                                        <i class="fa fa-sign-out" aria-hidden="true"></i>\n                                    </div>\n                                </md-card-header-text>\n                            </md-card-header>\n                            <md-card-content flex id="overview" style="overflow:auto;">\n                                <architecture-diagram url="architectureUrl"></architecture-diagram>\n                            </md-card-content>\n                        </md-card>\n                        <md-card ng-if="selectedView == \'classes\' " flex>\n                            <md-card-header style="border-bottom:1px solid #f1f1f1;">\n                                <md-card-header-text layout="row" flex>\n                                    <span class="md-title">Classes</span>\n                                    <span flex></span>\n                                    <div class="refresh" ng-click="showSignOut($event)">\n                                        <a href="'+t+'"><i class="fa fa-refresh" aria-hidden="true"></i></a>\n                                    </div>\n                                    <div class="signout" ng-click="showSignOut($event)">\n                                        <i class="fa fa-sign-out" aria-hidden="true"></i>\n                                    </div>\n                                </md-card-header-text>\n                            </md-card-header>\n                            <md-card-content flex style="overflow:auto;padding:0;">\n                                <classes-layout url="classesDataUrl"></classes-layout>\n                            </md-card-content>\n                        </md-card>\n                        <md-card id="modules-card" ng-if="selectedView == \'modules\' " flex>\n                            <md-card-header style="border-bottom:1px solid #f1f1f1;">\n                                <md-card-header-text layout="row" flex>\n                                    <span class="md-title">Modules</span>\n                                    <span flex></span>\n                                    <div class="refresh" ng-click="showSignOut($event)">\n                                        <a href="'+t+'"><i class="fa fa-refresh" aria-hidden="true"></i></a>\n                                    </div>\n                                    <div class="signout" ng-click="showSignOut($event)">\n                                        <i class="fa fa-sign-out" aria-hidden="true"></i>\n                                    </div>\n                                </md-card-header-text>\n                            </md-card-header>\n                            <md-card-content flex style="overflow:auto;">\n                                <modules-diagram url="modulesDataUrl">\n                                </modules-diagram>\n                            </md-card-content>\n                        </md-card>\n                        <md-card ng-if="selectedView == \'routers\' " flex>\n                            <md-card-header style="border-bottom:1px solid #f1f1f1;">\n                                <md-card-header-text layout="row" flex>\n                                    <span class="md-title">Routers</span>\n                                    <span flex></span>\n                                    <div class="refresh" ng-click="showSignOut($event)">\n                                        <a href="'+t+'"><i class="fa fa-refresh" aria-hidden="true"></i></a>\n                                    </div>\n                                    <div class="signout" ng-click="showSignOut($event)">\n                                        <i class="fa fa-sign-out" aria-hidden="true"></i>\n                                    </div>\n                                </md-card-header-text>\n                            </md-card-header>\n                            <md-card-content flex style="overflow:auto;">\n                                <routes-diagram url="routersDataUrl">\n                                </routes-diagram>\n                            </md-card-content>\n                        </md-card>\n                        <md-card ng-if="selectedView == \'imports\' " flex>\n                            <md-card-header style="border-bottom:1px solid #f1f1f1;">\n                                <md-card-header-text layout="row" flex>\n                                    <span class="md-title">Imports</span>\n                                    <span flex></span>\n                                    <div class="refresh" ng-click="showSignOut($event)">\n                                        <a href="'+t+'"><i class="fa fa-refresh" aria-hidden="true"></i></a>\n                                    </div>\n                                    <div class="signout" ng-click="showSignOut($event)">\n                                        <i class="fa fa-sign-out" aria-hidden="true"></i>\n                                    </div>\n                                </md-card-header-text>\n                            </md-card-header>\n                            <md-card-content flex style="overflow:auto;">\n                                <imports-diagram url="importsDataUrl">\n                                </imports-diagram>\n                            </md-card-content>\n                        </md-card>\n                    </md-content>\n                </section>\n            </div>\n        </md-card>\n    ';
}function u(){var e=x.window.activeTextEditor;return e&&e.document?(x.commands.executeCommand("vscode.executeDocumentSymbolProvider",e.document.uri).then(function(e){e.forEach(function(e){console.log(e)})}),p()):y("No outline available.")}function f(){var e=x.window.activeTextEditor;return e&&x.languages.match(b.TS_MODE,e.document)?p():y("Not available for non-TypeScript files.")}function p(){var e=x.window.activeTextEditor,n=e.document,t=x.workspace.rootPath,r=e.document.fileName,a=C.Ng2Util.getMeta(t,r),i=C.Ng2Util.parseMeta(a),o="color:#9cdcfe",s="color:#DCDCAA;text-decoration:none;line-height:150%",c="color:#c586c0",l='\n        <body>\n            <div class="view-line">\n                <h4 style="'+o+'">'+i.name+"</h4>\n                <hr>\n    ";if(i.decorators){l+='\n            <h4 style="'+o+'">Decorators</h4>\n            <ul>\n        ';for(var d=0,u=i.decorators;d<u.length;d++){var f=u[d];l+='\n                <li><a style="'+s+'" href="'+encodeURI("command:ngdoc.revealRange?"+JSON.stringify([n.uri,w(f.pos)]))+'">'+f.name+"</a></li>\n            "}l+="\n            </ul>\n        "}if((i.extends||i.implements)&&(l+='\n            <h4 style="'+o+'">Heritages</h4>\n            <ul>\n        ',i.extends&&(l+='\n                <li><span style="'+c+'">Extends: </span><span>'+h(i.extends)+"</span></li>\n            "),i.implements&&(l+='\n                <li><span style="'+c+'">Implements: </span><span>'+v(i.implements)+"</span></li>\n                </ul>\n            ")),i.methods){l+='\n            <h4 style="'+o+'">Methods</h4>\n            <ul>\n        ';for(var p=0,y=i.methods;p<y.length;p++){var S=y[p];l+='\n                <li><a style="'+s+'" href="'+encodeURI("command:ngdoc.revealRange?"+JSON.stringify([n.uri,w(S.pos)]))+'">'+m(S)+"</a></li>\n            "}l+="\n            </ul>\n        "}if(i.properties){l+='\n            <h4 style="'+o+'">Properties</h4>\n            <ul>\n        ';for(var b=0,D=i.properties;b<D.length;b++){var _=D[b];l+='\n                <li><a style="'+s+'" href="'+encodeURI("command:ngdoc.revealRange?"+JSON.stringify([n.uri,w(_.pos)]))+'">'+g(_)+"</a></li>\n            "}}return l+="\n        </div>\n    </body>\n    "}function m(e){var n="";if(e.name&&(n=e.name),e.parameters){var t="";for(var r in e.parameters)t+="arg"+r+": "+e.parameters[r]+", ";t=t.substring(0,t.lastIndexOf(",")),n+="("+t+")"}else n+="()";return n}function g(e){var n="";return e.name&&(n+=e.name),e.type&&(n+=": "+e.type),e.dataType&&"Array"===e.dataType&&(n+="[]"),n}function h(e){return e?e.substring(e.indexOf("#")+1,e.length):""}function v(e){var n="";if(e){for(var t=0,r=e;t<r.length;t++){var a=r[t];n+=a.substring(a.indexOf("#")+1,a.length)+", "}n=n.substring(0,n.lastIndexOf(","))}return n}function y(e){return"\n        <body>\n            "+e+"\n        </body>"}function w(e){var n=x.window.activeTextEditor,t=n.document,r=t.positionAt(e),a=t.lineAt(r).lineNumber+1;return a}Object.defineProperty(n,"__esModule",{value:!0});var x=t(0),S=t(3),b=t(4),C=t(17),D=t(5),_=t(2),A=(t(22).htmlEncode,"file://"+x.workspace.rootPath+"/.vscode/settings.json");n.generateDashboardView=s,n.generateSymbolOutlineView=u,n.generateOutlineView=f},function(e,n,t){"use strict";function r(e){var n=new f,t=a.workspace.registerTextDocumentContentProvider(c.ngdocScheme,n);a.window.onDidChangeActiveTextEditor(function(e){e&&(e.document.uri===d&&n.update(d),e.document===a.window.activeTextEditor.document&&n.update(u))});var r=a.commands.registerCommand("ngdoc",function(){return a.commands.executeCommand("vscode.previewHtml",d,a.ViewColumn.One,"AngularDoc").then(function(e){},function(e){a.window.showErrorMessage(e)})});e.subscriptions.push(r,t);var i=a.commands.registerCommand("ngdoc.openEditor",function(e){return o.WorkspaceUtils.openFileInEditor(a.workspace.rootPath+e)});e.subscriptions.push(i);var p=a.commands.registerCommand("ngdoc.signIn",function(e){var n=e.email,t=e.token;s.AngularDocSetting.saveUserSettings(n,t,n).then(function(){},function(e){a.window.showErrorMessage(e)})});e.subscriptions.push(p);var m=a.commands.registerCommand("ngdoc.signUp",function(e){var n=e.email,t=e.password,r=e.token;l.AngularDocAPI.getUserRepo(n,t,n,r).then(function(){}).catch(function(e){a.window.showErrorMessage(e)})});e.subscriptions.push(m);var g=a.commands.registerCommand("ngdoc.refresh",function(){l.AngularDocAPI.clearTsMetadatas().then(function(){s.AngularDocSetting.saveLastSync(0,!0)})});e.subscriptions.push(g);var h=a.commands.registerCommand("ngdoc.selectDashboardView",function(e){n.selectDashboardView(e)});e.subscriptions.push(h);var v=a.commands.registerCommand("ngdoc.logout",function(){s.AngularDocSetting.removeExpiredToken()});e.subscriptions.push(v);var y=a.commands.registerCommand("ngdoc.loginError",function(e){e=JSON.parse(e);var n=e.message||e.responseText;a.window.showErrorMessage(n)});e.subscriptions.push(y);var w=a.commands.registerCommand("ngdoc.revealRange",function(e,n){for(var t=0,r=a.window.visibleTextEditors;t<r.length;t++){var i=r[t];if(i.document.uri.toString()===e.toString()){var o=i.document.lineAt(n-1).range;i.selection=new a.Selection(o.start,o.end),i.revealRange(o)}}});e.subscriptions.push(w)}Object.defineProperty(n,"__esModule",{value:!0});var a=t(0),i=t(13),o=t(7),s=t(2),c=t(4),l=t(5),d=a.Uri.parse(c.ngdocScheme+"://editors/angulardoc?x="+(new Date).getTime().toString()),u=a.Uri.parse(c.ngdocScheme+"://editors/outline"),f=function(){function e(){this._onDidChange=new a.EventEmitter,this.viewName=""}return e.prototype.provideTextDocumentContent=function(e,n){if(e.scheme==d.scheme&&e.authority==d.authority&&e.path==d.path){var t=s.AngularDocSetting.getUserSettings(),r=!!t.access_token&&""!=t.access_token,a=!!t.email,o=this.viewName||"overview";return i.generateDashboardView(r,a,o)}return e.toString()==u.toString()?i.generateOutlineView():""},Object.defineProperty(e.prototype,"onDidChange",{get:function(){return this._onDidChange.event},enumerable:!0,configurable:!0}),e.prototype.update=function(e){this._onDidChange.fire(e)},e.prototype.selectDashboardView=function(e){this.viewName=e},e}();n.activate=r},function(e,n,t){"use strict";function r(e){var n=d.join(__dirname,"server.js"),t={execArgv:["--nolazy","--debug=6004"]},r={run:{module:n,transport:c.TransportKind.ipc},debug:{module:n,transport:c.TransportKind.ipc,options:t}},i={documentSelector:["typescript"],synchronize:{configurationSection:"angulardoc",fileEvents:s.workspace.createFileSystemWatcher("**/**.ts")},initializationOptions:function(){var e=p.AngularDocSetting.getAngularDocConfiguration();return e?{directoryFilter:e.directoryFilter||["!typings","!node_modules","!.vscode"],fileFilter:e.fileFilter||["**/!(*.*spec).ts"],access_token:e.access_token,baseUrl:l.AngularDocAPI.baseUrl,repoId:e.repoId,email:e.email,lastSync:e.lastSync||0}:void 0}};o=new c.LanguageClient("AngularDoc",r,i),e.subscriptions.push(new c.SettingMonitor(o,"true").start()),o.onNotification(f.ServerNotification.metadata,function(e){console.log("Synced "+e.file),e.lastSync&&(p.AngularDocSetting.saveLastSync(e.lastSync),p.AngularDocSetting.refreshDiagram()),e.createNewRepoId&&p.AngularDocSetting.updateRepoId()});var m=s.workspace.createFileSystemWatcher("**/**.ts");m.onDidCreate(function(e){a(e.path,"Add")}),m.onDidDelete(function(e){var n=s.workspace.asRelativePath(e.path);a(n,"Delete")});var g=s.workspace.createFileSystemWatcher("**/angulardoc.json");g.onDidChange(function(e){var n=p.AngularDocSetting.getAngularDocConfiguration();p.AngularDocSetting.getWorkspaceSettings().then(function(e){n.repoId!==e.repoId?(n.repoId=e.repoId,o.sendRequest(f.ConfigurationChanged.params,n)):n.lastSync!==e.lastSync&&(n.lastSync=e.lastSync,o.sendRequest(f.ConfigurationChanged.params,n))})});var h=s.workspace.rootPath+"/**/",v=s.workspace.createFileSystemWatcher(h,!1,!1,!1);v.onDidDelete(function(e){var n=p.AngularDocSetting.getFolderCache(),t=n.indexOf(e.path);t>0&&(n.splice(t,1),a(e.path,"DeleteFolder"))}),v.onDidCreate(function(e){var n=u.statSync(e.path).isDirectory();if(n){var t=p.AngularDocSetting.getFolderCache();t.push(e.path),a(e.path,"RenameFolder")}})}function a(e,n){o.sendRequest(f.ServerMetadata.metadata,{url:e,action:n})}function i(e){o.sendRequest(f.ServerRequest.authentication,{userInfo:e}).then(function(e){200==e.statusCode&&console.log("Authentication info was set")},function(e){console.log(e)})}Object.defineProperty(n,"__esModule",{value:!0});var o,s=t(0),c=t(27),l=t(5),d=t(3),u=t(1),f=t(4),p=t(2);t(8);n.activate=r,n.sendRequest=a,n.sendUserInfoToServer=i},function(e,n,t){"use strict";function r(e,n,t){var r=f.relative(n,t);if(e){if("@angular"==e.substr(0,"@angular".length))return e;var a=f.dirname(r),i=f.join(a,e),o=f.resolve(n,i);return u.existsSync(o)||u.existsSync(o+".ts")?i:e}return""}function a(e){if(e)switch(e.kind){case d.SyntaxKind.StringKeyword:return"String";case d.SyntaxKind.BooleanKeyword:return"Boolean";case d.SyntaxKind.NumberKeyword:return"Number";case d.SyntaxKind.AnyKeyword:return"Any";case d.SyntaxKind.ArrayType:return"Array";case d.SyntaxKind.TypeReference:var n=e,t=n.typeName.text;return t}return"Any"}function i(e,n,t){if(Array.isArray(e))for(var r=0,a=e;r<a.length;r++){var i=a[r];if(i.loadChildren){var s=i.loadChildren,c=o(s,n,t);i.loadChildren=c}}}function o(e,n,t){var r="";if(e){var a=void 0,i=void 0;e.indexOf("#")>=0?(a=e.substring(0,e.lastIndexOf("#"))+".ts",i=e.substring(e.indexOf("#")+1,e.length)):a=e+".ts";for(var o=f.dirname(n),s=o+"/"+a,c=!0;!u.existsSync(s);)if(o=o.substring(0,o.lastIndexOf("/")),s=""===o?a:o+"/"+a,""===o){c=!1;break}if(c){var l=f.relative(t,s);r=l.substring(0,l.lastIndexOf(".ts")),i&&(r=r+"#"+i)}}return r}function s(e){if(Array.isArray(e)){for(var n=0,t=e;n<t.length;n++){var r=t[n];if(!c(r))return!1}return!0}return c(e)}function c(e){var n=Object.keys(e);if(n&&n.length>0){for(var t=0,r=0,a=n;r<a.length;r++){var i=a[r];g.indexOf(i)>=0&&t++}return n.length===t}return!1}Object.defineProperty(n,"__esModule",{value:!0});var l=t(19),d=t(9),u=t(1),f=t(3),p=t(25),m=d.ModifierFlags?function(e){return!!(d.getCombinedModifierFlags(e)&d.ModifierFlags.Export)}:function(e){return!!(e.flags&d.NodeFlags.Export)},g=(d.ModifierFlags?function(e){return!!(d.getCombinedModifierFlags(e)&d.ModifierFlags.Static)}:function(e){return!!(e.flags&d.NodeFlags.Static)},d.SyntaxKind.SpreadElement||d.SyntaxKind.SpreadElementExpression,["path","pathMatch","component","redirectTo","outlet","canActivate","canActivateChild","canDeactivate","data","resolve","children","loadChildren"]),h=function(){function e(e){this.projectDir=e,this.metaCollector=new l.MetadataCollector}return e.prototype.getMeta=function(e,n){var t;try{t=this.metaCollector.getMetadata(e,n),t&&this.postHandle(t,e,n)}catch(e){e&&(t=null)}return t},e.prototype.getAllMeta=function(e,n){var t=this;return p.Observable.create(function(r){e.forEach(function(e){t.getMeta(e,n);r.next(e)}),r.complete()})},e.prototype.buildSymbol=function(e){var n=this,t=new Map;["Object","Function","String","Number","Array","Boolean","Map","NaN","Infinity","Math","Date","RegExp","Error","Error","EvalError","RangeError","ReferenceError","SyntaxError","TypeError","URIError","JSON","ArrayBuffer","DataView","Int8Array","Uint8Array","Uint8ClampedArray","Uint16Array","Int16Array","Int32Array","Uint32Array","Float32Array","Float64Array","Any"].forEach(function(e){return t.set(e,{__symbolic:"reference",name:e})});var a=function(e){return e.replace(/^['"]|['"]$/g,"")},i=function(o){switch(o.kind){case d.SyntaxKind.ClassDeclaration:var s=o,c=f.relative(n.projectDir,e.fileName);t.set(s.name.text,{__symbolic:"reference",module:c.substring(0,c.lastIndexOf(".ts")),name:s.name.text});break;case d.SyntaxKind.ImportEqualsDeclaration:var l=o;if(l.moduleReference.kind===d.SyntaxKind.ExternalModuleReference){var u=l.moduleReference;u.expression.parent||(u.expression.parent=u,u.parent=e);var p=r(a(u.expression.getText()),n.projectDir,e.fileName);t.set(l.name.text,{__symbolic:"reference",module:p})}else t.set(l.name.text,{__symbolic:"error",message:"Unsupported import syntax"});break;case d.SyntaxKind.ImportDeclaration:var m=o;if(!m.importClause)break;m.moduleSpecifier.parent||(m.moduleSpecifier.parent=m,m.parent=e);var g=r(a(m.moduleSpecifier.getText()),n.projectDir,e.fileName);m.importClause.name&&t.set(m.importClause.name.text,{__symbolic:"reference",module:g,default:!0});var h=m.importClause.namedBindings;if(h)switch(h.kind){case d.SyntaxKind.NamedImports:for(var v=0,y=h.elements;v<y.length;v++){var w=y[v];t.set(w.name.text,{__symbolic:"reference",module:g,name:w.propertyName?w.propertyName.text:w.name.text})}break;case d.SyntaxKind.NamespaceImport:t.set(h.name.text,{__symbolic:"reference",module:g})}}d.forEachChild(o,i)};return e&&d.forEachChild(e,i),t},e.prototype.postHandle=function(e,n,t){var r=this,a=this.buildSymbol(n);this.handleFileLocation(e,n);var i=new Map;d.forEachChild(n,function(e){switch(e.kind){case d.SyntaxKind.ExportDeclaration:var n=e,t=n.moduleSpecifier,r=n.exportClause;t||r.elements.forEach(function(e){var n=e.name.text,t=(e.propertyName||e.name).text;i.set(t,n)})}});var o=function(e){return i.has(e.text)},s=function(e){return m(e)||o(e.name)};d.forEachChild(n,function(t){switch(t.kind){case d.SyntaxKind.ClassDeclaration:var i=t;if(i.name){var o=i.name.text;if(s(i)){for(var c=0,u=i.members;c<u.length;c++){var f=u[c];switch(f.kind){case d.SyntaxKind.Constructor:case d.SyntaxKind.MethodDeclaration:var p=f;r.handleMethod(e,p,a,o);break;case d.SyntaxKind.PropertyDeclaration:case d.SyntaxKind.GetAccessor:case d.SyntaxKind.SetAccessor:var g=f;l.isMetadataError(g)||r.handleProperty(e,g,a,o)}}i.heritageClauses&&r.handleHeritageClause(e,i.heritageClauses,a,o),r.updateDecoratorMembers(e,o,n)}}break;case d.SyntaxKind.VariableStatement:var h=t;if(m(h))for(var v=0,y=h.declarationList.declarations;v<y.length;v++){var w=y[v];if(w.name.kind==d.SyntaxKind.Identifier){var x=w.name.text;r.handleSpreadStatement(e,x,n),r.handleVariableStatement(e,w,n)}}}}),this.resolveRelativePath(e,this.projectDir,n)},e.prototype.handleFileLocation=function(e,n){var t=f.relative(this.projectDir,n.fileName);t.endsWith(".ts")&&(t=t.substring(0,t.lastIndexOf(".ts"))),e.file=t},e.prototype.handleDecorators=function(e,n,t,a){var i=e.metadata,o=i[t];if(o.decorators)for(var s=0,c=o.decorators;s<c.length;s++){var l=c[s];if(l.arguments)for(var d=0,u=l.arguments;d<u.length;d++){var f=u[d];if(f[a])for(var p=0,m=f[a];p<m.length;p++){var g=m[p];if("reference"===g.__symbolic){var h=g.module,v=r(h,this.projectDir,n.fileName);g.module=v}else if("select"===g.__symbolic){var y=g.expression,h=y.module,v=r(h,this.projectDir,n.fileName);y.module=v}}}}},e.prototype.updateDecoratorMembers=function(e,n,t){var r=e.metadata,a=r[n];if(a.decorators)for(var i=0,o=a.decorators;i<o.length;i++){var s=o[i];if(s.arguments)for(var c=0,l=s.arguments;c<l.length;c++){var d=l[c];if(d.declarations)for(var u=0,f=d.declarations;u<f.length;u++){var p=f[u];if("select"===p.__symbolic){var m=p.expression,g=p.member;p.member=this.resolveMember(m,g,t)}}}}},e.prototype.handleVariableStatement=function(e,n,t){var r=e.metadata,a=n.name.text,o=r[a],c=o.arguments;if(c&&c.length>0)for(var l=0,d=c;l<d.length;l++){var u=d[l];s(u)&&i(u,t.fileName,this.projectDir)}},e.prototype.handleSpreadStatement=function(e,n,t){var r=e.metadata,a=r[n],i=a.arguments,o=[];if(arguments&&Array.isArray(i)){for(var s=0,c=i;s<c.length;s++){var l=c[s],d=[];o.push(d);for(var u=0,f=l;u<f.length;u++){var p=f[u];if("spread"===p.__symbolic&&p.expression){var m=p.expression,g=this.resolveSpreadElement(m,t);if(g&&Array.isArray(g))for(var h=0,v=g;h<v.length;h++){var y=v[h];d.push(y)}}else d.push(p)}}a.arguments=o}},e.prototype.handleMethod=function(e,n,t,r){var i=e.metadata,o=i[r],s=o.members,c=n.parameters;if(c&&c.length>0){var l=n.kind===d.SyntaxKind.Constructor,u=void 0;if(l)u=s.__ctor__[0];else{var f=n.name.text;u=s[f][0]}for(var p=[],m=0,g=c;m<g.length;m++){var h=g[m],v=h.name.text,y=a(h.type),w=t.get(y);w||(w={__symbolic:"reference",name:y}),w.param=v,p.push(w)}u.parameters=p}},e.prototype.handleProperty=function(e,n,t,r){var i={__symbolic:"property"},o=n.name.text,s=n.type;if(s){var c=a(s);if(i.type=t.get(c),s.kind===d.SyntaxKind.ArrayType){var l=a(s.elementType);i.ref=t.get(l)}}var u=e.metadata,f=u[r],p=f.members;p?p[o]=i:(p={},p[o]=i,f.members=p)},e.prototype.handleHeritageClause=function(e,n,t,r){var a=e.metadata,i=a[r],o=[];if(i.extends&&delete i.extends,n&&n.length>0){for(var s=0,c=n;s<c.length;s++){var l=c[s],u=l.token;if(u==d.SyntaxKind.ImplementsKeyword){if(l.types)for(var f=0,p=l.types;f<p.length;f++){var m=p[f],g=m.expression.text,h=t.get(g);o.push({__symbolic:"implements",interfaces:h.module+"#"+h.name})}}else if(u==d.SyntaxKind.ExtendsKeyword){var m=l.types[0],g=m.expression.text,h=t.get(g);o.push({__symbolic:"extends",extends:h.module+"#"+h.name})}}i.heritages=o}},e.prototype.resolveMember=function(e,n,t){if(e.name){var a=e.name;if(e.module){var i=r(e.module,this.projectDir,t.fileName),o=f.join(this.projectDir+"/"+i+".ts");if(u.existsSync(o)){var s=d.createProgram([o],{target:d.ScriptTarget.ES5,module:d.ModuleKind.CommonJS}),c=s.getSourceFile(o),l=this.metaCollector.getMetadata(c,!1),p=l.metadata;return p[a]?this.resolve(p[a],n):null}}}},e.prototype.resolve=function(e,n){for(var t,r=Object.keys(e),a=0,i=r;a<i.length;a++){var o=i[a],s=e[o];if("object"==typeof s){if(o===n){t=s;break}t=this.resolve(s,n)}}return t},e.prototype.resolveSpreadElement=function(e,n){if(e.name){var t=e.name;if(e.module){var a=r(e.module,this.projectDir,n.fileName),i=f.join(this.projectDir+"/"+a+".ts");if(u.existsSync(i)){var o=d.createProgram([i],{target:d.ScriptTarget.ES5,module:d.ModuleKind.CommonJS}),s=o.getSourceFile(i),c=this.metaCollector.getMetadata(s,!1),l=c.metadata;return l[t]}}}},e.prototype.resolveRelativePath=function(e,n,t){for(var a=Object.keys(e),i=0,s=a;i<s.length;i++){var c=s[i],l=e[c];if("loadChildren"===c){var d=o(l,t.fileName,n);e[c]=d}else if("object"==typeof l)if("reference"===l.__symbolic&&l.module){var u=l.module,f=r(u,n,t.fileName);l.module=f}else this.resolveRelativePath(l,n,t)}},e}();n.Ng2xMetaCollector=h},function(e,n,t){"use strict";function r(e,n){if(e&&Array.isArray(e)){for(var t=[],r=0,a=e;r<a.length;r++){var i=a[r],o=i.expression,s={};o&&(s.name="@"+o.name),i.pos&&(s.pos=i.pos),t.push(s)}n.decorators=t}}function a(e,n){if(e&&Array.isArray(e))for(var t=0,r=e;t<r.length;t++){var a=r[t];"implements"===a.__symbolic?n.implements=a.interfaces:"extends"===a.__symbolic&&(n.extends=a.extends)}}function i(e,n){if(e){var t=[],r=[];for(var a in e)if(Array.isArray(e[a])){var i=e[a][0];if("method"===i.__symbolic||"constructor"===i.__symbolic){var o={},s="constructor"===i.__symbolic?"constructor".length:a.length;if(o.name="constructor"===i.__symbolic?"constructor":a,i.parameters){for(var c=[],l=i.parameters,d=0,u=l;d<u.length;d++){var f=u[d];c.push(f.name)}o.parameters=c}i.pos&&(o.pos=i.pos+s),t.push(o)}else if("property"===i.__symbolic){var p={};if(p.name=a,i.propertyType){var m=i.propertyType;p.type=m.name,m.module&&(p.module=m.module)}if(i.propertyDecorators){i.propertyDecorators[0]}i.dataType&&(p.dataType=i.dataType),i.pos&&(p.pos=i.pos+a.length),r.push(p)}}n.methods=t,n.properties=r}}Object.defineProperty(n,"__esModule",{value:!0});var o=t(16),s=t(9),c=function(){function e(){}return e.getMeta=function(e,n){var t,r=s.createProgram([n],{target:s.ScriptTarget.ES5,module:s.ModuleKind.CommonJS}),a=(r.getTypeChecker(),r.getSourceFile(n)),i=new o.Ng2xMetaCollector(e);try{t=i.getMeta(a,!1)}catch(e){throw e}return t},e.parseMeta=function(e){var n={};if(e&&e.hasOwnProperty("metadata")){var t=e.metadata,o=void 0;for(var s in t){n.name=s,o=t[s];break}for(var c in o)"__symbolic"===c?n.type=o[c]:"decorators"===c?r(o.decorators,n):"heritages"===c?a(o.heritages,n):"members"===c&&i(o.members,n)}return n},e}();n.Ng2Util=c},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=t(0),a=function(){function e(){this.ngdocStatusBarItem=r.window.createStatusBarItem(r.StatusBarAlignment.Left),this.ngdocStatusBarItem.command="ngdoc",this.ngdocStatusBarItem.text="AngularDoc",this.ngdocStatusBarItem.show()}return e.prototype.dispose=function(){this.ngdocStatusBarItem.dispose()},e}();n.NgdocStatusBar=a},function(e,n){e.exports=require("@angular/tsc-wrapped")},function(e,n){e.exports=require("child_process")},function(e,n){e.exports=require("comment-json")},function(e,n){e.exports=require("htmlencode")},function(e,n){e.exports=require("net")},function(e,n){e.exports=require("os")},function(e,n){e.exports=require("rxjs")},function(e,n){e.exports=require("uuid")},function(e,n){e.exports=require("vscode-languageclient")},function(e,n){e.exports=require("ws")},function(e,n,t){e.exports=t(10)}]);